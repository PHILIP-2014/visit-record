<div class="px-content-header" ng-controller="HeaderController">
    <!--header右边搜索框和功能区-->
    <div class="px-header-right pull-right" style="width:460px; position:relative;">

        <div style="position:absolute;left:0;right:200px;">
            <px-icon-input-inner icon-type="search"  placeholder="搜索消息……"
                                 input-type="circle" ng-model="vm.key" on-enter="viewSearchResult($event)" data-name="globalSearch"></px-icon-input-inner>
        </div>

        <div class="pull-right" style="height:100%">
            <ul class="px-btn-list list-unstyled clearfix">
                <li  tooltip="收藏" tooltip-placement="bottom" tooltip-append-to-body="true">
                    <button class="px-btn-circle px-btn-circle-large px-btn-circle-info"
                            ng-class="{active:globalStatus.globalFavorite}" data-name="globalFavorite" ng-click="onClick($event)">
                        <span class="px-icon icon-star-0"></span>
                    </button>
                </li>
                <li tooltip="文档" tooltip-placement="bottom" tooltip-append-to-body="true">
                    <button class="px-btn-circle px-btn-circle-large px-btn-circle-info"
                            ng-class="{active:globalStatus.globalFile}" data-name="globalFile" ng-click="onClick($event)">
                        <span class="px-icon icon-file-0" style="font-size: 15px"></span>
                    </button>
                </li>

                <li tooltip="日程" tooltip-placement="bottom" tooltip-append-to-body="true">
                    <button class="px-btn-circle px-btn-circle-large px-btn-circle-info"
                            ng-class="{active:globalStatus.globalAgenda}" data-name="globalAgenda" ng-click="onClick($event)">
                        <span class="px-icon icon-calendar" style="font-size: 15px"></span>
                    </button>
                </li>

                <li tooltip="任务" tooltip-placement="bottom" tooltip-append-to-body="true">
                    <button class="px-btn-circle px-btn-circle-large px-btn-circle-info"
                            ng-class="{active:globalStatus.globalTask}" data-name="globalTask" ng-click="onClick($event)">
                        <span class="px-icon icon-task" style="font-size: 15px"></span>
                    </button>
                </li>

                <li class="dropdown" dropdown  tooltip="更多" tooltip-placement="bottom" tooltip-append-to-body="true">
                    <button class="px-btn-circle px-btn-circle-large px-btn-circle-info" dropdown-toggle>
                        <span class="icon" >···</span>
                    </button>
                    <ul class="dropdown-menu px-placement-right  px-icon-color active-color-grey">

                        <li ng-class="{active:globalStatus.globalMember}" data-name="globalMember" ng-click="onClick($event)">
                            <a href="javascript:;" ng-if="!team.isSystem"><i class="px-icon icon-contact-0"></i>联系人</a>
                        </li>

                        <li class="divider" ng-if="!team.isSystem"></li>

                        <li  data-name="globalFile">
                            <a href="/pan" target="paroxPan"><i class="px-icon icon-cloud-0"></i>派乐微盘</a>
                        </li>

                    </ul>
                </li>
            </ul>
        </div>
    </div>

    <!--群组会话-->
    <div class="px-header-left" ng-if="vm.chatType===1">
        <div class="pull-left">
            <div class="pull-left">
                <a href="javascript:;" ng-click="lockToggle()" tabindex="0">
                    <i class="px-icon" ng-class="{'icon-pin-outline-0':!chatTarget.top,'icon-pin-outline':chatTarget.top}" style="color:#F9A724"></i>
                </a>
            </div>
            <h1 class="px-content-header-title pull-left" ng-bind="chatTarget.name">
            </h1>
        </div>
        <div class="pull-left dropdown" ng-if="chatTarget.isSystem!=1" dropdown>
            <button class="px-icon-btn" style="padding-top:26px;" dropdown-toggle>
                <span class="px-icon icon-angle-down icon-normal"></span>
            </button>
            <ul class="dropdown-menu  px-icon-color" ng-if="chatTarget.isSystem!=1" role="menu">
                <li>
                    <a href="javascript:;" ng-click="editTeam()"><i class="px-icon icon-set-0"></i>群组设置</a>
                </li>
                <li>
                    <a href="javascript:;" ng-click="inviteMember()"><i class="px-icon icon-user-add-0"></i>添加成员</a>
                </li>
                <li class="divider" ng-if="!team.isSystem"></li>
                <li>
                    <a href="javascript:;" ng-if="!team.isSystem" class="px-text-danger" ng-click="leaveTeam()">
                        <i class="default-color px-icon icon-sign-out"></i>离开群组
                    </a>
                </li>
                <li ng-if="chatTarget.adminUid==currentUser.id">
                    <a href="javascript:;" ng-if="!team.isSystem" class="px-text-danger" ng-click="deleteTeam()">
                        <i class="px-icon icon-trash-0 default-color"></i>删除群组
                    </a>
                </li>

            </ul>
        </div>



        <div class="pull-right" style="margin-right:10px;">
            <button class="px-icon-btn" ng-click="viewTeamMember()">
                <span class="px-icon icon-person"></span>
                <span ng-bind="vm.teamMemberCount"></span>
            </button>

            <button class="px-btn-circle px-btn-circle-large px-btn-circle-info"
                    data-id="team-detail" ng-class="{active:partStatus.teamDetail}" data-name="teamDetail" ng-click="onClick($event)">
                <span class="px-icon icon-info-circle"></span>
            </button>

        </div>
    </div>
    <!--私人会话时，显示的头部-->
    <div class="px-header-left" ng-if="vm.chatType===0">

        <div class="pull-left">
            <div class="pull-left"  ng-if="chatTarget.targetUid!=1000000">
                <a href="javascript:;" ng-click="lockToggle()" tabindex="0">
                    <i class="px-icon" ng-class="{'icon-pin-outline-0':!chatTarget.top,'icon-pin-outline':chatTarget.top}" style="color:#F9A724"></i>
                </a>
            </div>
            <h1 class="px-content-header-title pull-left" ng-bind="chatTarget|pxUserName"></h1>
        </div>

        <div class="dropdown pull-left" dropdown ng-if="chatTarget.targetUid!=1000000">
            <button class="dropdown-toggle px-icon-btn px-icon-set" style="padding-top:26px;" dropdown-toggle>
                <span class="px-icon icon-angle-down icon-normal"></span>
            </button>
            <ul class="dropdown-menu  px-icon-color">
                <li>
                    <a href="javascript:;" ng-click="viewProfile()"><i class="px-icon icon-file-search-0"></i>查看资料</a>
                </li>
                <li ng-if="chatTarget.profile.id!=1000000">
                    <a href="javascript:;" ng-click="editRemarkName()"><i class="px-icon icon-pencil-0"></i>修改备注姓名</a>
                </li>
                <li class="divider"></li>
                <li>
                    <a href="javascript:void 0" ng-click="createTeamConversation()">
                        <i class="px-icon icon-plus"></i>
                        发起群聊
                    </a>
                </li>
            </ul>
        </div>
        <div class="pull-right" style="margin-right:10px;" ng-if="chatTarget.targetUid!=1000000">

            <button class="px-btn-circle px-btn-circle-large px-btn-circle-info"
                    data-id="team-detail" ng-class="{active:partStatus.peopleDetail}" data-name="peopleDetail" ng-click="onClick($event)">
                <span class="px-icon icon-info-circle"></span>
            </button>

        </div>
    </div>
</div>